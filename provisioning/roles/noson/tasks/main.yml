---

 - name: add repository
   become: yes
   apt_repository:
     repo: ppa:jlbarriere68/noson-app
     codename: "{{ ubuntu_codename }}"
     state: present
     update_cache: yes

 - name: install noson
   become: yes
   apt:
     name: noson-app
     state: present

 - name: add firewall rules
   become: yes
   template:
     src: templates/noson.j2
     dest: /etc/ufw/applications.d/noson
     mode: '0644'

 - name: update ufw
   become: yes
   command: ufw app update noson

 - name: add rule firewal
   become: yes
   ufw:
     rule: allow
     name: noson
     src: "192.168.1.0/24"
