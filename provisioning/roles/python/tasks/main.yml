---
 - name: install python
   become: yes
   apt:
     name: "{{ packages }}"
   vars:
     packages:
     - python-apt
     - python3-apt
     - python3-distutils
     - python-dev
     - python3-dev
     - python-pip
     - python3-venv
     - python3-pip

 - name: install virtualenv for python 2
   become: yes
   command: pip2 install virtualenv
   register: virtualenv_result
   changed_when: '"Requirement already satisfied" not in virtualenv_result.stdout'

 - name: install virtualenv for python 3
   become: yes
   command: pip3 install virtualenv
   register: virtualenv_result
   changed_when: '"Requirement already satisfied" not in virtualenv_result.stdout'

 - name: install setuptools
   become: yes
   command: pip2 install setuptools
   register: setuptools_result
   changed_when: '"Requirement already satisfied" not in setuptools_result.stdout'

 - name: install setuptools
   become: yes
   command: pip3 install setuptools
   register: setuptools_result
   changed_when: '"Requirement already satisfied" not in setuptools_result.stdout'

 - name: install virtualenvwrapper for python 2
   become: yes
   command: pip2 install virtualenvwrapper
   register: virtualenvwrapper_result
   changed_when: '"Requirement already satisfied" not in virtualenvwrapper_result.stdout'

 - name: install virtualenvwrapper for python 3
   become: yes
   command: pip3 install virtualenvwrapper
   register: virtualenvwrapper_result
   changed_when: '"Requirement already satisfied" not in virtualenvwrapper_result.stdout'
