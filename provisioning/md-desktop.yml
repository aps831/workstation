---

 - name: run playbook tasks
   hosts: localhost
   vars:
     ansible_user: m-d
   roles:

# Security
     - role: 2fa
     - role: encryption
     - role: firewall
       vars:
         firewall_state: enabled

# Setup
     - role: swappiness

# Admin
     - role: admin
     - role: smartctl
#     - role: teamviewer # this is causing problems with an expired certificate

# Desktop
     - role: apps
     - role: desktop
     - role: dropbox
     - role: fonts
     - role: shotwell
       vars:
         shotwell_import_directory: "'/home/m-d/Elizabeth/Photos'"
     - role: webbrowsers

# Backup
     - role: backup2
       vars:
         backup_user: "m-d"
         local_backup_name: "internal"
         remote_backup_name: "amazons3"
         backup_time_delay: "30min"
         backup_test_time_delay: "180min"

# Programming Tools
     - role: virtualbox

# Services
     - role: printserver
     - role: sambashare

   pre_tasks:
     - name: update repository caches
       become: yes
       apt: update_cache=yes
       changed_when: False
