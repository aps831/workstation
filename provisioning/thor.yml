---

 - name: run playbook tasks
   hosts: localhost
   vars:
     ansible_user: andrew
   roles:

# Security
     - role: encryption
     - role: firewall
       vars:
         firewall_state: enabled

# Setup
     - role: hosts
       vars:
         hosts_titan_ip_address: 192.168.1.101
         hosts_thor_ip_address: 192.168.1.104
         hosts_odin_ip_address: 192.168.1.190
     - role: nas
       vars:
         nas_host: odin.local
     - role: swappiness

# Admin
     - role: admin
     - role: smartctl
     - role: teamviewer

# Desktop
     - role: apps
     - role: desktop
     - role: dropbox
     - role: fonts
     - role: noson
     - role: shotwell
       vars:
         shotwell_import_directory: "'smb://odin.local/photo/andrew'" # Shotwell doesn't work with Samba,,,
     - role: webbrowsers

# Backup
     - role: backup
       vars:
         backup_user: "andrew"
         local_backup_name: "odin"
         remote_backup_name: "amazons3"
         backup_time_delay: "60min"
         backup_test_time_delay: "240min"

# Programming Tools
     - role: atom
     - role: aws
     - role: data
     - role: eclipse
     - role: intellij
     - role: git
     - role: gcloud
     - role: helm
     - role: lens
     - role: minikube
     - role: operator-framework
     - role: pgadmin
     - role: stoplight
     - role: sublime
     - role: terraform
     - role: vagrant
     - role: virtualbox
     - role: vscode

# Programming Languages
     - role: elm
     - role: golang
     - role: javascript
     - role: jvm
     - role: python
     - role: haskell

# Users
     - role: user
       vars:
         create_user: andrew

# Services
     - role: apache2
     - role: docker
     - role: ssh
       vars:
         ssh_ufw_allow_host: "{{ hosts_titan_ip_address }}"

   pre_tasks:
     - name: update repository caches
       become: yes
       apt: update_cache=yes
       changed_when: False
