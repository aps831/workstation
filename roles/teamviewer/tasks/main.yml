---
- name: apt-key add
  become: true
  apt_key:
    url: https://linux.teamviewer.com/pubkey/currentkey.asc
    state: present

- name: apt-add-repository
  become: true
  ansible.builtin.apt_repository:
    filename: "teamviewer"
    repo: "deb https://linux.teamviewer.com/deb stable main"
    state: "present"

- name: apt-get install
  become: true
  ansible.builtin.apt:
    name: "teamviewer"
    state: "latest"
